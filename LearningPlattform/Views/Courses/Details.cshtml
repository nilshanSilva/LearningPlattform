@model LearningPlattform.Models.ViewModels.VideoCourseViewModel

@{
    ViewBag.Title = "Details";
}

<style>
    .pb-video-container {
        padding-top: 20px;
        background: #fefeff;
        font-family: Lato;
    }

    .pb-video {
        border: 1px solid #e6e6e6;
        padding: 5px;
    }

        .pb-video:hover {
            background: #2c3e50;
        }

    .pb-video-frame {
        transition: width 2s, height 2s;
    }

        .pb-video-frame:hover {
            height: 300px;
        }

    .pb-row {
        margin-bottom: 10px;
    }

    .menu-link {
        height: 50px;
    }

    .enroll {
           text-align:right;
           margin-right:100px;
           
       /* text-indent: -9999px; */ /* hides the link text */
    }
</style>


<h2>@Model.Course.Name</h2>

<div>
    @*<h4>Course</h4>*@
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Course.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Course.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Course.Category)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.Category)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Course.Language)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.Language)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Course.CourseLevel)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.CourseLevel)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Course.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Course.Price)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Course.Id }) |
    @Html.ActionLink("Back to List", "Index") |
    @Html.ActionLink("Delete", "Delete", new { id = Model.Course.Id }) |
    @Html.ActionLink("Add Video", "Create", "Videos", new { CourseId = Model.Course.Id }, null) |
</p> 

    @*@Html.ActionLink("Add Video", "Create", "Videos", new { Model }, null)*@
@{
    if (Model.Videos.Count == 0)
    {
    <p>There are no videos in this course yet.</p>
}
else
    {
        if (ViewBag.Enrolled == false)
        {
    <div class="enroll">
        @Html.ActionLink("Enroll Now", "Enroll", new { Id = Model.Course.Id }, new { @class = "btn btn-primary btn-large"})
    </div>
            }
        }
    }

@foreach (var item in Model.Videos)
{
    <div class="row">
        <div class="container-fluid pb-video-container">
            <div class="col-md-4">
                <iframe class="pb-video-frame" width="100%" height="230" src="@item.Path" frameborder="0" allowfullscreen></iframe>
                <label class="form-control label-warning text-xs-center">@Model.Course.Name</label>
            </div>
            <div class="col-md-8">
                <h2>@item.Name</h2>
                <p>@item.Description</p>
            </div>
        </div> @*/pb-video-container*@
    </div>

    if (!ViewBag.Enrolled)
    {
        <p>You must Enroll to view the Rest of the Course</p>
        break;
    }
}
</ul>

<script language="javascript" type="text/javascript" src="jquery-1.8.2.js"></script>
<script language="javascript" type="text/javascript">
$(function(){
    $('.close').click(function(){
        $('iframe').attr('src', $('iframe').attr('src'));
    });
});
</script>